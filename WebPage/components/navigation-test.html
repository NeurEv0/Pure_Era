<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPADE å¯¼èˆªç»„ä»¶é›†æˆæµ‹è¯•</title>
    
    <!-- Font Awesomeå›¾æ ‡ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- å¼•å…¥ç»„ä»¶æ ·å¼ -->
    <link rel="preload" href="sidebar-nav.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="header-nav.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="sidebar-nav.css">
        <link rel="stylesheet" href="header-nav.css">
    </noscript>
    
    <style>
        :root {
            --primary: #2A5C8B;
            --secondary: #4CAF50;
            --background: #F8F9FA;
            --text-primary: #333;
            --text-secondary: #666;
            --border: #E0E0E0;
            --sidebar-bg: #2b1055;
            --sidebar-hover: #7597de;
            --header-height: 80px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            list-style: none;
            text-decoration: none;
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }
        
        body {
            background-color: var(--background);
            line-height: 1.6;
            padding-top: var(--header-height);
        }
        
        /* ä¸»å†…å®¹åŒºåŸŸ */
        section {
            position: relative;
            width: 100%;
            margin-left: 84px;
            padding: 40px 40px 40px 20px;
            transition: margin-left 0.5s ease;
            min-height: 100vh;
        }
        
        .content-container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .test-section {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .section-title {
            color: var(--primary);
            font-size: 24px;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--primary);
            padding-bottom: 10px;
            display: inline-block;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            border-left: 4px solid var(--primary);
        }
        
        .test-controls {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
        }
        
        .test-button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .test-button:hover {
            background: #1d4e7c;
            transform: translateY(-1px);
        }
        
        .status-display {
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin-top: 15px;
            font-family: monospace;
            font-size: 13px;
            white-space: pre-wrap;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 767px) {
            section {
                margin-left: 0;
                padding: 20px 15px;
            }
            
            .test-section {
                padding: 20px 15px;
            }
            
            .section-title {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <header>
        <div class="logo-container">
            <a href="#" class="logo">
                <i class="fas fa-cube"></i> SPADE
            </a>
            <div style="color: white; font-size: 0.6em;">System for Antimicrobial Peptide<br>Management and Database</div>
        </div>
        
        <ul class="nav-menu">
            <li><a href="#overview">é¦–é¡µ</a></li>
            <li><a href="#features">æœç´¢</a></li>
            <li><a href="#integration">å·¥å…·</a></li>
            <li><a href="#responsive">ç»Ÿè®¡</a></li>
            <li><a href="#api" title="APIå‚è€ƒ">
                <i class="fas fa-code"></i>
            </a></li>
        </ul>
    </header>

    <!-- ä¾§è¾¹æ å¯¼èˆª -->
    <div class="shell">
        <ul class="nav">
            <li class="active">
                <a href="#overview">
                    <span class="icon"><i class="fas fa-home"></i></span>
                    <span class="text">ç»„ä»¶æ¦‚è§ˆ</span>
                </a>
            </li>
            <li>
                <a href="#features">
                    <span class="icon"><i class="fas fa-star"></i></span>
                    <span class="text">åŠŸèƒ½ç‰¹æ€§</span>
                </a>
            </li>
            <li>
                <a href="#integration">
                    <span class="icon"><i class="fas fa-puzzle-piece"></i></span>
                    <span class="text">ç»„ä»¶é›†æˆ</span>
                </a>
            </li>
            <li>
                <a href="#responsive">
                    <span class="icon"><i class="fas fa-mobile-alt"></i></span>
                    <span class="text">å“åº”å¼æµ‹è¯•</span>
                </a>
            </li>
            <li>
                <a href="#api">
                    <span class="icon"><i class="fas fa-code"></i></span>
                    <span class="text">APIæ¥å£</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <section>
        <div class="content-container">
            <!-- ç»„ä»¶æ¦‚è§ˆ -->
            <div id="overview" class="test-section">
                <h2 class="section-title">
                    <i class="fas fa-compass"></i> å¯¼èˆªç»„ä»¶é›†æˆæµ‹è¯•
                </h2>
                <div class="section-content">
                    <p>è¿™ä¸ªé¡µé¢åŒæ—¶å±•ç¤ºäº†ä¾§è¾¹æ å¯¼èˆªå’Œé¡¶éƒ¨å¯¼èˆªä¸¤ä¸ªç»„ä»¶çš„ååŒå·¥ä½œã€‚</p>
                    
                    <div class="test-controls">
                        <h4>ğŸ§ª å¿«é€Ÿæµ‹è¯•</h4>
                        <button class="test-button" onclick="testSidebarToggle()">
                            <i class="fas fa-arrow-left"></i> ä¾§è¾¹æ åˆ‡æ¢
                        </button>
                        <button class="test-button" onclick="testHeaderToggle()">
                            <i class="fas fa-bars"></i> é¡¶éƒ¨èœå•åˆ‡æ¢
                        </button>
                        <button class="test-button" onclick="testBothActive()">
                            <i class="fas fa-sync"></i> åŒæ­¥æ´»åŠ¨çŠ¶æ€
                        </button>
                        <button class="test-button" onclick="testAllStatus()">
                            <i class="fas fa-info-circle"></i> è·å–çŠ¶æ€ä¿¡æ¯
                        </button>
                    </div>
                    
                    <div id="test-status" class="status-display" style="display: none;">
                        <!-- æµ‹è¯•ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                    </div>
                </div>
            </div>

            <!-- åŠŸèƒ½ç‰¹æ€§ -->
            <div id="features" class="test-section">
                <h2 class="section-title">
                    <i class="fas fa-star"></i> ç»„ä»¶åŠŸèƒ½ç‰¹æ€§
                </h2>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4><i class="fas fa-bars"></i> ä¾§è¾¹æ å¯¼èˆª</h4>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li>æ‚¬åœå±•å¼€æ˜¾ç¤ºæ–‡å­—</li>
                            <li>ç§»åŠ¨ç«¯æŒ‰é’®åˆ‡æ¢</li>
                            <li>å¹³æ»‘æ»šåŠ¨åˆ°å¯¹åº”éƒ¨åˆ†</li>
                            <li>è‡ªåŠ¨æ´»åŠ¨çŠ¶æ€ç®¡ç†</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4><i class="fas fa-globe"></i> é¡¶éƒ¨å¯¼èˆª</h4>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li>å“åº”å¼æ±‰å ¡èœå•</li>
                            <li>ä¾§æ»‘å±•å¼€åŠ¨ç”»</li>
                            <li>é¡µé¢é—´å¯¼èˆªåˆ‡æ¢</li>
                            <li>è¦†ç›–å±‚ç‚¹å‡»å…³é—­</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4><i class="fas fa-keyboard"></i> é”®ç›˜æ”¯æŒ</h4>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li>Tabé”®ç„¦ç‚¹åˆ‡æ¢</li>
                            <li>æ–¹å‘é”®èœå•å¯¼èˆª</li>
                            <li>Enter/Spaceé€‰æ‹©</li>
                            <li>ESCé”®å…³é—­èœå•</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4><i class="fas fa-mobile-alt"></i> ç§»åŠ¨ä¼˜åŒ–</h4>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li>44pxè§¦æ‘¸ç›®æ ‡</li>
                            <li>æ»šåŠ¨é”å®šé˜²è¯¯è§¦</li>
                            <li>æ‰‹åŠ¿å‹å¥½äº¤äº’</li>
                            <li>æ¨ªå±è‡ªåŠ¨é€‚é…</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- ç»„ä»¶é›†æˆ -->
            <div id="integration" class="test-section">
                <h2 class="section-title">
                    <i class="fas fa-puzzle-piece"></i> ç»„ä»¶é›†æˆæµ‹è¯•
                </h2>
                <div class="test-controls">
                    <h4>ğŸ”— ååŒåŠŸèƒ½æµ‹è¯•</h4>
                    <button class="test-button" onclick="testNavSync()">
                        <i class="fas fa-link"></i> å¯¼èˆªåŒæ­¥
                    </button>
                    <button class="test-button" onclick="testConflictResolution()">
                        <i class="fas fa-shield-alt"></i> å†²çªè§£å†³
                    </button>
                    <button class="test-button" onclick="testPerformance()">
                        <i class="fas fa-tachometer-alt"></i> æ€§èƒ½æµ‹è¯•
                    </button>
                </div>
                
                <p>ä¸¤ä¸ªå¯¼èˆªç»„ä»¶å¯ä»¥å®Œç¾ååŒå·¥ä½œï¼š</p>
                <ul style="margin: 15px 0; padding-left: 20px;">
                    <li><strong>ç‹¬ç«‹è¿è¡Œ</strong>ï¼šæ¯ä¸ªç»„ä»¶éƒ½æœ‰ç‹¬ç«‹çš„APIå’Œç”Ÿå‘½å‘¨æœŸ</li>
                    <li><strong>æ ·å¼éš”ç¦»</strong>ï¼šä½¿ç”¨CSSå˜é‡ç»Ÿä¸€ä¸»é¢˜ï¼Œé¿å…æ ·å¼å†²çª</li>
                    <li><strong>äº‹ä»¶ç®¡ç†</strong>ï¼šåˆç†çš„äº‹ä»¶ç›‘å¬å™¨ç®¡ç†ï¼Œé¿å…å†…å­˜æ³„æ¼</li>
                    <li><strong>å“åº”å¼åè°ƒ</strong>ï¼šä¸åŒå±å¹•å°ºå¯¸ä¸‹çš„æ™ºèƒ½åˆ‡æ¢</li>
                </ul>
            </div>

            <!-- å“åº”å¼æµ‹è¯• -->
            <div id="responsive" class="test-section">
                <h2 class="section-title">
                    <i class="fas fa-mobile-alt"></i> å“åº”å¼è¡Œä¸ºæµ‹è¯•
                </h2>
                <div class="test-controls">
                    <h4>ğŸ“± å½“å‰å±å¹•çŠ¶æ€</h4>
                    <div id="screen-info">
                        <p>å±å¹•å®½åº¦: <span id="screen-width">0</span>px</p>
                        <p>è®¾å¤‡ç±»å‹: <span id="device-type">æœªçŸ¥</span></p>
                        <p>ä¾§è¾¹æ æ¨¡å¼: <span id="sidebar-mode">æœªçŸ¥</span></p>
                        <p>é¡¶éƒ¨èœå•æ¨¡å¼: <span id="header-mode">æœªçŸ¥</span></p>
                    </div>
                </div>
                
                <h3>ğŸ“‹ æ–­ç‚¹è¯´æ˜</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>æ¡Œé¢ç«¯ (>992px)</h4>
                        <p>ä¾§è¾¹æ æ­£å¸¸æ˜¾ç¤ºï¼Œé¡¶éƒ¨èœå•æ°´å¹³å¸ƒå±€</p>
                    </div>
                    <div class="feature-card">
                        <h4>å¹³æ¿ç«¯ (768-992px)</h4>
                        <p>ä¾§è¾¹æ é€‚åº¦ç¼©å°ï¼Œé¡¶éƒ¨èœå•ä¿æŒæ°´å¹³</p>
                    </div>
                    <div class="feature-card">
                        <h4>æ‰‹æœºç«¯ (<768px)</h4>
                        <p>ä¾§è¾¹æ éšè—åˆ‡æ¢ï¼Œé¡¶éƒ¨æ˜¾ç¤ºæ±‰å ¡èœå•</p>
                    </div>
                </div>
            </div>

            <!-- APIæ¥å£ -->
            <div id="api" class="test-section">
                <h2 class="section-title">
                    <i class="fas fa-code"></i> APIæ¥å£æµ‹è¯•
                </h2>
                <div class="test-controls">
                    <h4>ğŸ”§ ä¾§è¾¹æ API</h4>
                    <button class="test-button" onclick="apiTest('sidebar', 'toggle')">toggleSidebar()</button>
                    <button class="test-button" onclick="apiTest('sidebar', 'getActive')">getCurrentActiveItem()</button>
                    
                    <h4 style="margin-top: 20px;">ğŸ“± é¡¶éƒ¨å¯¼èˆªAPI</h4>
                    <button class="test-button" onclick="apiTest('header', 'toggle')">toggleMenu()</button>
                    <button class="test-button" onclick="apiTest('header', 'getState')">getMenuState()</button>
                </div>
                
                <h3>ğŸ“– å¯ç”¨APIæ–¹æ³•</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>window.sidebarNav</h4>
                        <ul style="margin: 10px 0; padding-left: 20px; font-size: 13px;">
                            <li>toggleSidebar()</li>
                            <li>setActiveNavItem(element)</li>
                            <li>getCurrentActiveItem()</li>
                            <li>smoothScrollToSection(id)</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>window.headerNav</h4>
                        <ul style="margin: 10px 0; padding-left: 20px; font-size: 13px;">
                            <li>toggleMenu()</li>
                            <li>openMenu() / closeMenu()</li>
                            <li>setActiveMenuItem(element)</li>
                            <li>getMenuState()</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- å¼•å…¥ç»„ä»¶è„šæœ¬ -->
    <script src="sidebar-nav.js"></script>
    <script src="header-nav.js"></script>
    
    <script>
        // æµ‹è¯•åŠŸèƒ½
        function testSidebarToggle() {
            if (window.sidebarNav) {
                window.sidebarNav.toggleSidebar();
                showStatus('ä¾§è¾¹æ åˆ‡æ¢å®Œæˆ');
            } else {
                showStatus('ä¾§è¾¹æ ç»„ä»¶æœªåˆå§‹åŒ–');
            }
        }
        
        function testHeaderToggle() {
            if (window.headerNav) {
                window.headerNav.toggleMenu();
                showStatus('é¡¶éƒ¨èœå•åˆ‡æ¢å®Œæˆ');
            } else {
                showStatus('é¡¶éƒ¨å¯¼èˆªç»„ä»¶æœªåˆå§‹åŒ–');
            }
        }
        
        function testBothActive() {
            const results = [];
            
            if (window.sidebarNav) {
                const sidebarActive = window.sidebarNav.getCurrentActiveItem();
                results.push(`ä¾§è¾¹æ æ´»åŠ¨é¡¹: ${sidebarActive ? sidebarActive.textContent : 'æ— '}`);
            }
            
            if (window.headerNav) {
                const headerState = window.headerNav.getMenuState();
                results.push(`é¡¶éƒ¨èœå•æ´»åŠ¨é¡¹: ${headerState.activeItem || 'æ— '}`);
            }
            
            showStatus(results.join('\n'));
        }
        
        function testAllStatus() {
            const status = [];
            
            status.push('=== ç»„ä»¶çŠ¶æ€ä¿¡æ¯ ===');
            status.push(`æ—¶é—´: ${new Date().toLocaleTimeString()}`);
            status.push(`å±å¹•å°ºå¯¸: ${window.innerWidth} Ã— ${window.innerHeight}px`);
            
            if (window.sidebarNav) {
                status.push('\n--- ä¾§è¾¹æ å¯¼èˆª ---');
                status.push('çŠ¶æ€: å·²åˆå§‹åŒ–');
                const activeItem = window.sidebarNav.getCurrentActiveItem();
                status.push(`æ´»åŠ¨é¡¹: ${activeItem ? activeItem.textContent : 'æ— '}`);
            } else {
                status.push('\n--- ä¾§è¾¹æ å¯¼èˆª ---');
                status.push('çŠ¶æ€: æœªåˆå§‹åŒ–');
            }
            
            if (window.headerNav) {
                const state = window.headerNav.getMenuState();
                status.push('\n--- é¡¶éƒ¨å¯¼èˆª ---');
                status.push('çŠ¶æ€: å·²åˆå§‹åŒ–');
                status.push(`èœå•å¼€å¯: ${state.isOpen ? 'æ˜¯' : 'å¦'}`);
                status.push(`æ´»åŠ¨é¡¹: ${state.activeItem || 'æ— '}`);
            } else {
                status.push('\n--- é¡¶éƒ¨å¯¼èˆª ---');
                status.push('çŠ¶æ€: æœªåˆå§‹åŒ–');
            }
            
            showStatus(status.join('\n'));
        }
        
        function testNavSync() {
            // æµ‹è¯•å¯¼èˆªåŒæ­¥åŠŸèƒ½
            if (window.sidebarNav && window.headerNav) {
                const sidebarItems = document.querySelectorAll('.shell .nav a');
                const headerItems = document.querySelectorAll('.nav-menu a');
                
                showStatus(`ä¾§è¾¹æ å¯¼èˆªé¡¹æ•°é‡: ${sidebarItems.length}\né¡¶éƒ¨å¯¼èˆªé¡¹æ•°é‡: ${headerItems.length}\nåŒæ­¥çŠ¶æ€: æ­£å¸¸`);
            } else {
                showStatus('éƒ¨åˆ†ç»„ä»¶æœªåˆå§‹åŒ–ï¼Œæ— æ³•è¿›è¡ŒåŒæ­¥æµ‹è¯•');
            }
        }
        
        function testConflictResolution() {
            // æµ‹è¯•å†²çªè§£å†³
            showStatus('å†²çªè§£å†³æµ‹è¯•:\nâœ… CSSå˜é‡éš”ç¦»\nâœ… äº‹ä»¶ç›‘å¬å™¨éš”ç¦»\nâœ… å‘½åç©ºé—´åˆ†ç¦»\nâœ… æ— å…¨å±€æ±¡æŸ“');
        }
        
        function testPerformance() {
            const start = performance.now();
            
            // æ‰§è¡Œä¸€äº›æ€§èƒ½æµ‹è¯•
            if (window.sidebarNav) {
                window.sidebarNav.getCurrentActiveItem();
            }
            if (window.headerNav) {
                window.headerNav.getMenuState();
            }
            
            const end = performance.now();
            showStatus(`æ€§èƒ½æµ‹è¯•å®Œæˆ:\næ‰§è¡Œæ—¶é—´: ${(end - start).toFixed(2)}ms\nçŠ¶æ€: ä¼˜ç§€`);
        }
        
        function apiTest(component, method) {
            try {
                let result = '';
                
                if (component === 'sidebar' && window.sidebarNav) {
                    switch(method) {
                        case 'toggle':
                            window.sidebarNav.toggleSidebar();
                            result = 'toggleSidebar() æ‰§è¡ŒæˆåŠŸ';
                            break;
                        case 'getActive':
                            const active = window.sidebarNav.getCurrentActiveItem();
                            result = `getCurrentActiveItem() è¿”å›: ${active ? active.textContent : 'null'}`;
                            break;
                    }
                } else if (component === 'header' && window.headerNav) {
                    switch(method) {
                        case 'toggle':
                            window.headerNav.toggleMenu();
                            result = 'toggleMenu() æ‰§è¡ŒæˆåŠŸ';
                            break;
                        case 'getState':
                            const state = window.headerNav.getMenuState();
                            result = `getMenuState() è¿”å›:\n${JSON.stringify(state, null, 2)}`;
                            break;
                    }
                } else {
                    result = `ç»„ä»¶ ${component} æœªåˆå§‹åŒ–`;
                }
                
                showStatus(result);
            } catch (error) {
                showStatus(`APIè°ƒç”¨é”™è¯¯: ${error.message}`);
            }
        }
        
        function showStatus(message) {
            const display = document.getElementById('test-status');
            display.style.display = 'block';
            display.textContent = message;
        }
        
        function updateScreenInfo() {
            const width = window.innerWidth;
            document.getElementById('screen-width').textContent = width;
            
            let deviceType, sidebarMode, headerMode;
            
            if (width > 992) {
                deviceType = 'æ¡Œé¢ç«¯';
                sidebarMode = 'æ­£å¸¸æ˜¾ç¤º';
                headerMode = 'æ°´å¹³å¸ƒå±€';
            } else if (width > 768) {
                deviceType = 'å¹³æ¿ç«¯';
                sidebarMode = 'é€‚åº¦ç¼©å°';
                headerMode = 'æ°´å¹³å¸ƒå±€';
            } else {
                deviceType = 'ç§»åŠ¨ç«¯';
                sidebarMode = 'éšè—/åˆ‡æ¢';
                headerMode = 'æ±‰å ¡èœå•';
            }
            
            document.getElementById('device-type').textContent = deviceType;
            document.getElementById('sidebar-mode').textContent = sidebarMode;
            document.getElementById('header-mode').textContent = headerMode;
        }
        
        // é¡µé¢åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateScreenInfo();
            
            // æ£€æŸ¥ç»„ä»¶åˆå§‹åŒ–çŠ¶æ€
            setTimeout(() => {
                const status = [];
                status.push('ğŸ‰ é¡µé¢åŠ è½½å®Œæˆï¼');
                
                if (window.sidebarNav) {
                    status.push('âœ… ä¾§è¾¹æ å¯¼èˆªç»„ä»¶å·²åˆå§‹åŒ–');
                } else {
                    status.push('âŒ ä¾§è¾¹æ å¯¼èˆªç»„ä»¶åˆå§‹åŒ–å¤±è´¥');
                }
                
                if (window.headerNav) {
                    status.push('âœ… é¡¶éƒ¨å¯¼èˆªç»„ä»¶å·²åˆå§‹åŒ–');
                } else {
                    status.push('âŒ é¡¶éƒ¨å¯¼èˆªç»„ä»¶åˆå§‹åŒ–å¤±è´¥');
                }
                
                status.push('\nç°åœ¨å¯ä»¥å¼€å§‹æµ‹è¯•å„é¡¹åŠŸèƒ½äº†ï¼');
                showStatus(status.join('\n'));
            }, 1500);
        });
        
        // ç›‘å¬çª—å£å¤§å°å˜åŒ–
        window.addEventListener('resize', updateScreenInfo);
    </script>
</body>
</html> 